æˆ‘éå¸¸æ¨èä½ è¯´çš„è¿™ç§ã€Œä¸€åŠ³æ°¸é€¸ã€åšæ³•ï¼Œè€Œä¸”ç°åœ¨è¿™ä¸ªé¡¹ç›®çš„æˆç†Ÿåº¦å·²ç»å¾ˆé€‚åˆä¸Šä¸€ä¸ª**ç»Ÿä¸€æ•°æ®æŠ½å– / æ´¾ç”Ÿç®¡çº¿**äº† ğŸ‘

ä¸‹é¢å…ˆå›ç­”ä¸€å¥è¯ç»“è®ºï¼š

> âœ… å»ºè®®åšä¸€ä»½â€œä¸»è¡¨ + è‹¥å¹²é•¿è¡¨â€çš„é€šç”¨æŠ½å–è„šæœ¬ï¼Œä»¥åæ‰€æœ‰åˆ†æ & å¯è§†åŒ–éƒ½ä»è¿™äº›è¡¨å‡ºå‘ï¼Œè€Œä¸æ˜¯æ¯åšä¸€ä¸ªå›¾å°±å•ç‹¬å†™æ•°æ®å¯¼å‡ºã€‚

æ¥ä¸‹æ¥æŒ‰ä½ ä¹ æƒ¯çš„æ–¹å¼ï¼Œç»™ä¸€ä»½**å¯è½åœ°çš„æ•´ä½“è®¡åˆ’**ï¼Œåé¢æˆ‘ä»¬å°±å¯ä»¥ä¸€æ­¥ä¸€æ­¥ç…§ç€å®ç°ã€ä¿®æ­£ã€‚

---

## æ€»æ€è·¯ï¼šåšä¸€ä¸ªâ€œå°å‹æ•°ä»“â€

ç”¨ä½ ç°åœ¨çš„æ¸…æ´—æˆæœï¼Œæˆ‘ä»¬å¯ä»¥æ­ä¸€ä¸ªéå¸¸ç®€å•çš„â€œå°å‹æ•°ä»“â€ç»“æ„ï¼š

* **ä¸€å¼ ä¸»è¡¨ï¼ˆwideï¼‰**ï¼š
  æ¯è¡Œ = 1 ä¸ªå—è®¿è€…ï¼ˆrespondentï¼‰
  åˆ— = æ‰€æœ‰é‡è¦çš„äººå£å­¦å˜é‡ + å…³é”®è¡ç”ŸæŒ‡æ ‡ï¼ˆhigh_stress_groupã€å·¥æ—¶æ¡£ä½ã€å€ºåŠ¡æ¡£ä½ã€æ»¡æ„åº¦ç»¼åˆæŒ‡æ•°ã€æ”¯æŒæŒ‡æ•°ç­‰ï¼‰
* **è‹¥å¹²â€œé•¿è¡¨â€ï¼ˆlongï¼‰**ï¼š
  ä¸“é—¨ç”¨æ¥å±•ç¤º/å»ºæ¨¡â€œå¤šé¡¹é‡è¡¨ & çŸ©é˜µé¢˜â€ç­‰é‡å¤ç»“æ„ï¼Œä¾‹å¦‚ï¼š

  * `likert_concerns_long`ï¼šå„ç§â€œæ‹…å¿§â€æ¡ç›®ï¼ˆå¿ƒç†å¥åº·ã€financesã€political climateâ€¦ï¼‰
  * `likert_satisfaction_long`ï¼šæ•´ä½“æ»¡æ„åº¦ã€å„ç»´åº¦æ»¡æ„åº¦
  * `events_long`ï¼šbullying / harassment / discrimination ç»†åˆ†
  * `support_long`ï¼šå¯¼å¸ˆ/æœºæ„/å¿ƒç†æœåŠ¡ç›¸å…³æ¡ç›®

è¿™æ ·ä¹‹åï¼š

* ä½ è¦ç”»ä»»ä½•å›¾ / è·‘ä»»ä½•æ¨¡å‹ï¼Œåªè¦ï¼š

  * ä»ä¸»è¡¨ç­›äººï¼›
  * å†æ ¹æ®éœ€è¦ join å¯¹åº”çš„é•¿è¡¨ï¼›
  * å†èšåˆå‡ºå›¾è¡¨ç”¨çš„å°è¡¨ â‡’ å¯¼å‡ºåˆ° `08_viz_data`ã€‚
* æˆ‘ä»¬æ”¹å˜é‡ã€åŠ æ–°è¡ç”Ÿé‡ã€ä¿® bugï¼Œåªè¦æ”¹**è¿™ä¸€ä¸ªâ€œå¤§æŠ½å–è„šæœ¬â€**ï¼›å…¶ä»–å‰ç«¯é¡µé¢éƒ½ä¸ç”¨ç¢°åŸå§‹æ•°æ®ç»“æ„ã€‚

---

## è®¡åˆ’æ‹†è§£ï¼šæˆ‘ä»¬æ€ä¹ˆä¸€æ­¥æ­¥åšï¼Ÿ

æˆ‘æŒ‰â€œé˜¶æ®µâ€æ¥æ‹†ï¼Œè¿™æ ·æˆ‘ä»¬åé¢å¯ä»¥ä¸€æ®µæ®µå®ç°ï¼›ä½ æ„¿æ„çš„è¯ï¼Œæˆ‘ä»¬å°±ä»ç¬¬ 1 é˜¶æ®µå¼€å§‹å†™ä»£ç ã€‚

### é˜¶æ®µ 1ï¼šè®¾è®¡ä¸»è¡¨ schemaï¼ˆå†³å®šæˆ‘ä»¬â€œæƒ³è¦ä»€ä¹ˆåˆ—â€ï¼‰

**ç›®æ ‡ï¼šå†™å‡ºä¸€ä¸ªæ¸…æ™°çš„â€œä¸»è¡¨å­—æ®µæ¸…å•â€**ï¼Œä»¥åæ‰€æœ‰æŠ½å–ä»£ç å°±æ˜¯åœ¨æŠŠè¿™äº›å­—æ®µå¡«æ»¡ã€‚

ä¸»è¡¨å¯ä»¥å«ï¼š

> `/workspace/output/99_master/master_person_wide.csv`

åˆç‰ˆå»ºè®®åŒ…å«è¿™äº›ç±»åˆ«çš„å˜é‡ï¼ˆå…ˆåˆ—å¤§ç±»ï¼Œåé¢å®ç°æ—¶æˆ‘ä»¬å†ç»†åˆ°å…·ä½“åˆ—åï¼‰ï¼š

1. **åŸºç¡€ ID**

   * `resp_id`ï¼ˆæˆ–ä½ ç°åœ¨ç”¨çš„ä¸»é”®ï¼‰
   * `survey_year`ï¼ˆå¦‚æœéœ€è¦ï¼‰

2. **äººå£å­¦ / èƒŒæ™¯**

   * æ€§åˆ«ï¼ˆ+ â€œprefer not to sayâ€ï¼‰
   * å¹´é¾„æ®µ
   * å®¶åº­ç…§æŠ¤è´£ä»»ï¼ˆæœ‰/æ— ï¼‰
   * å°‘æ•°æ—è£” / under-represented groupï¼ˆæœ‰/æ— ï¼‰
   * ç¬¬ä¸€ä»£å¤§å­¦ç”Ÿï¼ˆå¦‚æœæœ‰ï¼‰

3. **å­¦ä¸šä¿¡æ¯**

   * `degree_label`ï¼ˆDoctorate / Masterâ€™s / Dualï¼‰
   * å­¦ç§‘å¤§ç±»ï¼ˆæˆ‘ä»¬åé¢å¯ä»¥åšä¸€ä¸ª `field_major`ï¼‰
   * å°±è¯»å¹´é™ / è¯»åˆ°ç¬¬å‡ å¹´ï¼ˆå¦‚æœé—®å·é‡Œæœ‰ï¼‰

4. **åœ°ç†ä¿¡æ¯**

   * `region_continent`
   * `country_name`ï¼ˆå¦‚æœä»¥åæœ‰ï¼‰
   * æ˜¯å¦åœ¨æœ¬å›½å­¦ä¹ ï¼ˆdomestic / internationalï¼‰

5. **å·¥ä½œè´Ÿè· & å·¥ä½œâ€“ç”Ÿæ´»å¹³è¡¡**

   * æ¯å‘¨å·¥æ—¶æ¡£ä½ `hours_level` + æ•°å€¼è¿‘ä¼¼ï¼ˆä¸­ç‚¹ï¼‰
   * æ˜¯å¦æœ‰å…¼èŒå·¥ä½œ & å…¼èŒåŸå› 
   * workâ€“life balance æ»¡æ„åº¦è¯„åˆ†ï¼ˆåŸå§‹ Likertï¼‰

6. **ç»æµå‹åŠ›**

   * é¢„æœŸå€ºåŠ¡æ¡£ä½ + æ•°å€¼è¿‘ä¼¼
   * æ˜¯å¦èƒ½å­˜é’±
   * å¯¹ç”Ÿæ´»æˆæœ¬ / é€šèƒ€çš„æ‹…å¿§ç»¼åˆåˆ†ï¼ˆæˆ–å•é¡¹ï¼‰

7. **æ»¡æ„åº¦ & ä¸»è§‚ä½“éªŒï¼ˆå…³é”®å‡ ä¸ªï¼‰**

   * å†³ç­–æ»¡æ„åº¦ï¼ˆQ23ï¼‰
   * å½“å‰æ€»ä½“ç»å†æ»¡æ„åº¦ï¼ˆQ25ï¼‰
   * æ»¡æ„åº¦å˜åŒ–æ–¹å‘ï¼ˆQ26ï¼‰
   * å¯¹é¡¹ç›®å‡†å¤‡èŒä¸šçš„è¯„ä»·ï¼ˆQ36 / Q47 ç­‰ key æŒ‡æ•°ï¼‰

8. **æ”¯æŒä¸å…³ç³»**

   * å¯¼å¸ˆæ”¯æŒæŒ‡æ•°ï¼ˆä½ å·²ç»åœ¨ support_quadrant é‡Œç®—è¿‡ï¼‰
   * æœºæ„ / å¿ƒç†å¥åº·æœåŠ¡ / workâ€“life æ”¯æŒæŒ‡æ•°
   * è¿™äº›æŒ‡æ•°åˆ†æ¡£ï¼šLow / Medium / Highï¼ˆæ–¹ä¾¿å››è±¡é™ï¼‰

9. **å¿ƒç†å¥åº· & æ±‚åŠ©**

   * æ˜¯å¦ä¸ºç„¦è™‘/æŠ‘éƒæ±‚åŠ©ï¼ˆåŠæ–¹å¼ï¼‰
   * å¯¹å¿ƒç†å¥åº·æœåŠ¡çš„è¯„ä»·ï¼ˆå¯ä»¥åªæ”¾ç»¼åˆæŒ‡æ•°ï¼‰

10. **é£é™©äº‹ä»¶**

    * `experienced_bullying`ï¼ˆ0/1ï¼‰
    * `experienced_harassment`ï¼ˆ0/1ï¼‰
    * æ˜¯å¦èƒ½å®‰å…¨æŠ¥å‘Š / æœºæ„å¤„ç†ä¿¡ä»»åº¦æŒ‡æ ‡

11. **é«˜å‹ç›¸å…³æ ‡è®°**

    * `high_stress_group`ï¼ˆä½ å·²ç»æœ‰ï¼‰
    * é«˜å‹ç†ç”±çš„å‡ ä¸ªè¾…åŠ©å˜é‡ï¼ˆä¾‹å¦‚åªå·¥æ—¶é«˜/åª WLB å·®ï¼‰

æˆ‘ä»¬å¯ä»¥å…ˆåœ¨çº¸ä¸Šæˆ–ä¸€ä¸ªå° md æ–‡ä»¶é‡ŒæŠŠä¸Šè¿°å˜é‡å†™æˆæ¸…å•ï¼Œåé¢å®ç°æ—¶é€åˆ—å»ç°æœ‰è„šæœ¬é‡Œæ‰¾æ¥æºã€‚

---

### é˜¶æ®µ 2ï¼šæ•´ç†ç°æœ‰è„šæœ¬é‡Œçš„é€»è¾‘ï¼ˆæŠŠâ€œåˆ†æ•£çš„ç²¾åâ€æ”¶è¿›æ¥ï¼‰

ä½ ç°åœ¨çš„ Python ä»£ç é‡Œï¼Œå…¶å®å·²ç»æŠŠå¾ˆå¤šæŒ‡æ•°ã€æ ‡è®°ç®—å¥½äº†ï¼š

* `05_worklife_analysis.py` & ä¸€å † `debt_vs_worklifeã€mental_help_vs_worklifeã€support_quadrant_prepâ€¦`
  â†’ è¿™é‡Œé¢æœ‰ï¼š

  * high_stress_group çš„å®šä¹‰
  * å„ç§æ”¯æŒæŒ‡æ•°çš„è®¡ç®—
  * å·¥æ—¶æ¡£ä½ã€å€ºåŠ¡æ¡£ä½ã€å¿ƒç†æ±‚åŠ©å˜é‡çš„æ¸…æ´—
* `34_build_region_var.py`
  â†’ æå‡ºäº† `region_worklife_derived`ï¼ˆregion_continent ç­‰ï¼‰

**è®¡åˆ’ï¼š**

* æˆ‘æ¥å¸®ä½ ç†ä¸€ä»½â€œæ˜ å°„è¡¨â€ï¼Œæ¯”å¦‚ï¼š

  | master å­—æ®µ            | æ¥è‡ªå“ªä¸ªä¸­é—´è¡¨/è„šæœ¬               | åŸå§‹åˆ—å / è®¡ç®—æ–¹å¼             |
  | -------------------- | ------------------------ | ----------------------- |
  | degree_label         | worklife_derived_vars    | v004_code â†’ mapping     |
  | region_continent     | region_worklife_derived  | region_continent        |
  | hours_level          | worklife_derived_vars    | hours_level             |
  | debt_level           | ???_derivedï¼ˆä½ å·²æœ‰å€ºåŠ¡æ¸…æ´—ï¼‰     | debt_level / v0xx_codeâ€¦ |
  | supervisor_support_i | support_quadrant_prep è¾“å‡º | â€¦                       |
  | â€¦                    | â€¦                        | â€¦                       |

* æœ‰äº†è¿™å¼ å¯¹ç…§è¡¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™ä¸€ä¸ª**ç»Ÿä¸€æŠ½å–è„šæœ¬**ï¼Œå¯¹æ¯ä¸€åˆ—ç…§ç€å¡«ã€‚

---

### é˜¶æ®µ 3ï¼šå®ç°â€œä¸»è¡¨æŠ½å–è„šæœ¬â€

å†™ä¸€ä¸ªæ–°çš„è„šæœ¬ï¼Œæ¯”å¦‚ï¼š

> `/workspace/code/90_build_master_person.py`

èŒè´£ï¼š

1. è¯»å…¥ä½ ç°æœ‰çš„å‡ ä¸ªå…³é”®ä¸­é—´è¡¨ï¼š

   * `data_step2_typed_clean.csv`ï¼ˆå¦‚æœéœ€è¦åŸå§‹æ–‡å­—ï¼‰
   * `worklife_derived_vars.csv`
   * `region_worklife_derived.csv`
   * å…¶ä»–ä½ ç”¨äºç”Ÿæˆæ”¯æŒæŒ‡æ•°ã€å€ºåŠ¡å˜é‡çš„ä¸­é—´ç»“æœï¼ˆå¯ä»¥å¤ç”¨æˆ–ç›´æ¥åœ¨è¿™é‡Œé‡ç®—ï¼‰
2. ç”¨ç»Ÿä¸€çš„ `resp_id` merge åˆ°ä¸€å¼ å¤§è¡¨ã€‚
3. æŒ‰æˆ‘ä»¬åœ¨é˜¶æ®µ 1 è®¾è®¡çš„å­—æ®µæ¸…å•ï¼Œä¾æ¬¡ç”Ÿæˆå„ä¸ªå˜é‡ï¼ˆæœ‰çš„ç›´æ¥æ‹·è´ï¼Œæœ‰çš„åšæ˜ å°„/åŠ æ€»/åˆ†æ¡£ï¼‰ã€‚
4. åšä¸€äº›åŸºæœ¬è´¨é‡æ£€æŸ¥ï¼ˆç¼ºå¤±ç‡ã€å–å€¼åˆ†å¸ƒï¼‰ã€‚
5. è¾“å‡ºï¼š

   * `/workspace/output/99_master/master_person_wide.csv`
   * `/workspace/output/99_master/master_person_wide.parquet`ï¼ˆæ–¹ä¾¿ä»¥ååœ¨ Python é‡Œé«˜æ•ˆè¯»å–ï¼‰

åœ¨è¿™ä¸ªè„šæœ¬é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä½ ä¹‹å‰åˆ†æ•£åœ¨å¤šä¸ªè„šæœ¬é‡Œçš„æ˜ å°„é€»è¾‘ï¼ˆæ¯”å¦‚ degree_labelã€hours_level åˆ†æ¡£ã€æ”¯æŒæŒ‡æ•°ï¼‰éƒ½â€œåˆå¹¶å…¥ä¸€å¤„â€ã€‚

---

### é˜¶æ®µ 4ï¼šè®¾è®¡ & ç”Ÿæˆå‡ ä¸ªâ€œé•¿è¡¨â€

ä¸»è¡¨è§£å†³çš„æ˜¯â€œè°æ˜¯ä»€ä¹ˆæ ·çš„äººâ€ï¼›é•¿è¡¨è§£å†³çš„æ˜¯â€œæŸä¸€ç±»æ¡ç›®åœ¨ä¸åŒäººèº«ä¸Šçš„åˆ†å¸ƒâ€ã€‚

å»ºè®®å…ˆåš 2â€“3 ä¸ªæœ€å…³é”®çš„é•¿è¡¨ï¼š

1. **å…³åˆ‡ / æ‹…å¿§é•¿è¡¨ `concerns_long`**

   * ç²’åº¦ï¼šä¸€äºº Ã— ä¸€æ¡ concern é¡¹ï¼ˆæ¯”å¦‚ finances, mental health, time to degreeâ€¦ï¼‰
   * åˆ—ï¼š`resp_id, concern_item_id, concern_item_label, score, score_std` ç­‰

2. **æ»¡æ„åº¦é•¿è¡¨ `satisfaction_long`**

   * åŒ…å«ï¼šæ•´ä½“æ»¡æ„åº¦ã€å„ç»´åº¦æ»¡æ„åº¦ï¼ˆå¯¼å¸ˆã€é¡¹ç›®ã€social lifeã€workâ€“life balance ç­‰ï¼‰
   * åŒæ ·ä¸€äºº Ã— ä¸€æ¡ç›®

3. **æ”¯æŒé•¿è¡¨ `support_long`**

   * å¯¼å¸ˆæ”¯æŒæ¡ç›®ã€æœºæ„æ”¯æŒæ¡ç›®ã€å¿ƒç†å¥åº·æœåŠ¡æ¡ç›®
   * å¯ä»¥é™„ä¸Šæ‰€å±ç»´åº¦ï¼ˆsupervisor / institution / mental-health servicesï¼‰

åšæ³•ä¸ç°åœ¨ä½ å·²æœ‰çš„ likert æ¸…æ´—å¾ˆç±»ä¼¼ï¼Œåªæ˜¯æœ€åå¯¼å‡ºæˆé•¿è¡¨å½¢å¼ã€‚

è¾“å‡ºè·¯å¾„ä¾‹å¦‚ï¼š

* `/workspace/output/99_master/concerns_long.csv`
* `/workspace/output/99_master/satisfaction_long.csv`
* `/workspace/output/99_master/support_long.csv`

---

### é˜¶æ®µ 5ï¼šä¸ºå‰ç«¯ / åˆ†æå‡†å¤‡â€œç»Ÿä¸€å…¥å£â€

å½“ä¸»è¡¨ + é•¿è¡¨éƒ½ç¨³å®šåï¼Œä»¥åä»»ä½•æ–°åˆ†æ/æ–°å¯è§†åŒ–ï¼Œåªè¦éµå®ˆä¸‹é¢çš„æƒ¯ä¾‹ï¼š

* Python åˆ†æè„šæœ¬ï¼š

  * **åªè¯»å– `master_person_wide` + å¯¹åº”çš„ long è¡¨**ï¼›
  * ä¸å†ç›´æ¥ç¢°åŸå§‹ `data.xlsx` æˆ–ä¸€æ­¥æ­¥çš„ä¸­é—´ CSVï¼›
  * èšåˆå®Œæˆåï¼ŒæŠŠç»“æœå†™åˆ° `/workspace/output/08_viz_data/...`ã€‚
* JS å‰ç«¯ï¼š

  * æ°¸è¿œåªè¯» `08_viz_data` é‡Œçš„èšåˆç»“æœï¼›
  * ä¸å…³å¿ƒä¸Šæ¸¸å­—æ®µæ˜¯æ€ä¹ˆæ¥çš„ã€‚

ä¸€æ—¦å“ªå¤©ä½ è§‰å¾—â€œæ”¯æŒæŒ‡æ•°çš„è®¡ç®—æ–¹å¼è¦æ”¹â€ã€æˆ–â€œhigh_stress_group å®šä¹‰è¦å¾®è°ƒâ€ï¼Œåªè¦æ”¹ 90 å·è„šæœ¬ / å¯¹åº”é•¿è¡¨çš„è„šæœ¬ï¼Œé‡æ–°ç”Ÿæˆ 99_master + 08_viz_dataï¼Œæ‰€æœ‰é¡µé¢å°±è‡ªåŠ¨ç”¨æ–°é€»è¾‘äº†ã€‚

---

## è¦ä¸è¦åšï¼Ÿæˆ‘ä¸ªäººçš„å»ºè®®

ä»¥ä½ ç°åœ¨è¿™ä¸ªé¡¹ç›®çš„è§„æ¨¡å’Œå¤æ‚åº¦ï¼Œæˆ‘è®¤ä¸ºï¼š

* **å¾ˆå€¼å¾—åš**ï¼Œè€Œä¸”ç°åœ¨åšæˆæœ¬ä¸ç®—é«˜ï¼Œå› ä¸ºï¼š

  * ä½ å·²æœ‰å¤§é‡æ¸…æ´—è„šæœ¬ï¼Œå¯ä»¥ç›´æ¥â€œæ¬è¿â€é€»è¾‘ï¼Œè€Œä¸æ˜¯ä»é›¶å†™ï¼›
  * ä½ åé¢è¿˜ä¼šç»§ç»­åŠ åˆ†æç»´åº¦ï¼ˆæ€§åˆ«ã€å­¦ç§‘ã€æ›´å¤šå¿ƒç†å˜é‡ç­‰ï¼‰ï¼Œå¦‚æœç»§ç»­æ¯ä¸ªå›¾å†™ä¸€æ®µ ad-hoc å¯¼å‡ºä»£ç ï¼Œä¹‹åä¼šå¾ˆéš¾ç»´æŠ¤ï¼›
* åŒæ—¶ï¼Œè¿™ä¸ª master ç»“æ„ä¹Ÿéå¸¸åˆ©äºå†™è®ºæ–‡ï¼ˆå°¤å…¶æ˜¯é™„å½•é‡Œçš„â€œå˜é‡åˆ—è¡¨è¡¨æ ¼â€å’Œâ€œæè¿°æ€§ç»Ÿè®¡è¡¨â€ï¼‰ã€‚

---

## ä¸‹ä¸€æ­¥å»ºè®®

å¦‚æœä½ ä¹Ÿè§‰å¾—å¯è¡Œï¼Œæˆ‘å»ºè®®æˆ‘ä»¬ä» **é˜¶æ®µ 1 + 2 çš„ç»“åˆ**å¼€å§‹ï¼š

1. ä½ å¯ä»¥ç®€å•å‘Šè¯‰æˆ‘ï¼š

   * å“ªäº›äººå£å­¦å˜é‡æ˜¯ä½ â€œè‚¯å®šæƒ³æ”¾è¿›ä¸»è¡¨â€çš„ï¼ˆå¦‚æœä½ æ‡’å¾—åˆ—ï¼Œæˆ‘å¯ä»¥å…ˆç»™ä¸€ä¸ªåˆç‰ˆå­—æ®µè¡¨ï¼Œä½ çœ‹å®Œå†è¡¥å……ï¼‰ã€‚
2. ä¸‹ä¸€æ­¥æˆ‘å°±å…ˆç»™ä½ å†™ä¸€ä¸ªã€Œå¾ˆç®€é™‹çš„ 90_build_master_person.py åˆç‰ˆã€ï¼š

   * åªå¡«å¥½ï¼š`resp_id / degree_label / region_continent / high_stress_group / hours_level / debt_levelï¼ˆå¦‚æœå®¹æ˜“ï¼‰` è¿™äº›æœ€æ ¸å¿ƒçš„åˆ—ï¼›
   * ä½ è·‘å®Œçœ‹ä¸€ä¸‹è¾“å‡ºé•¿ä»€ä¹ˆæ ·ï¼›
   * ç„¶åæˆ‘ä»¬å†ä¸€åˆ—ä¸€åˆ—æ…¢æ…¢æ‰©å±•ï¼Œç›´åˆ°ä½ è§‰å¾—â€œå¤Ÿç”¨äº†â€ã€‚

ä½ å¯ä»¥å…ˆç®€å•å›å¤ï¼š

> â€œå¥½ï¼Œæˆ‘ä»¬å°±ä» master_person_wide çš„åˆç‰ˆå¼€å§‹åšå§â€ï¼Œ

æˆ‘å°±ç›´æ¥ç»™ä½ ç¬¬ä¸€ç‰ˆ 90 å·è„šæœ¬çš„ä»£ç ã€‚



ä¸éœ€è¦æ¨ç¿»åŸæ¥çš„â€œä¸€åŠ³æ°¸é€¸â€å¤§è®¡åˆ’ ğŸ‘
ä½ åˆšä¸Šä¼ çš„é—®å·å’Œæ—©æœŸæ¸…æ´—æ–‡ä»¶æˆ‘å¤§æ¦‚æ‰«äº†ä¸€éï¼Œå†…å®¹å’Œæˆ‘ä¹‹å‰æŒ‰è®°å¿†è¯´çš„åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯ç°åœ¨ä¿¡æ¯æ›´å®Œæ•´äº†ã€‚æ‰€ä»¥æ•´ä½“æ€è·¯è¿˜æ˜¯ï¼š

> **ä¸€å¼ ä¸»è¡¨ï¼ˆmaster_person_wideï¼‰ + è‹¥å¹²é•¿è¡¨ï¼ˆlong tablesï¼‰**
> æ‰€æœ‰åˆ†æå’Œå‰ç«¯å›¾è¡¨éƒ½åªä¾èµ–è¿™äº›è¡ç”Ÿè¡¨ã€‚

æˆ‘åªå»ºè®®åœ¨åŸè®¡åˆ’ä¸Šåšå‡ å¤„â€œåŠ å¼ºç‰ˆâ€è°ƒæ•´ï¼Œè®©å®ƒæ›´è´´åˆé—®å·ç»“æ„ã€‚

---

## 1. ä¸»è¡¨ï¼ˆmaster_person_wideï¼‰ä»ç„¶æ˜¯æ ¸å¿ƒï¼Œåªæ˜¯å­—æ®µæ¸…å•æ›´å®Œæ•´ä¸€ç‚¹

åŸæ¥åˆ—çš„é‚£äº›å†…å®¹éƒ½ä¿ç•™ï¼Œåªæ˜¯ç»“åˆé—®å·æŠŠâ€œè‚¯å®šè¯¥æœ‰çš„å­—æ®µâ€åˆ—å¾—æ›´æ¸…æ¥šä¸€äº›ï¼ˆåé¢æˆ‘ä»¬ä¼šåœ¨ä»£ç é‡Œä¸€åˆ—åˆ—å»å¡«ï¼‰ï¼š

**A. ID & åŸºæœ¬ä¿¡æ¯**

* `resp_id`
* `survey_year`ï¼ˆå¯é€‰ï¼Œå…ˆç»Ÿä¸€ 2022 å³å¯ï¼‰

**B. å­¦ä½ä¸è¿›åº¦ï¼ˆQ1â€“Q3ï¼‰**

* `degree_label`ï¼šDoctorate / Masterâ€™s / Dualï¼ˆç»§ç»­ç”¨ `v004_code`â†’æ˜ å°„ï¼‰
* `degree_duration_years`ï¼šQ2 æ€»å­¦åˆ¶ï¼ˆ1â€“7+ï¼‰
* `degree_progress_years`ï¼šQ3 å·²è¯»å¹´æ•°
* `degree_progress_ratio`ï¼šprogress/durationï¼ˆæ–¹ä¾¿åšâ€œè¯»åˆ°å‡ æˆâ€ï¼‰

**C. åœ°ç†ï¼ˆQ5â€“Q7 + region æ–‡ä»¶ï¼‰**

* `study_in_home_country`ï¼ˆæ˜¯/å¦ï¼‰
* `region_continent`ï¼ˆå·²æœ‰ï¼šAsia, Europe, â€¦ï¼‰
* `country_name`ï¼ˆç›®å‰ region è¡¨é‡Œæ˜¯ç©ºï¼Œå…ˆå ä½ï¼Œåé¢å¦‚æœæœ‰å›½å®¶æ•°æ®å†å¡«ï¼‰

**D. ç»æµ & å·¥ä½œï¼ˆQ8â€“Q16, Q21 ç­‰ï¼‰**

* `has_second_job` + `second_job_reason`
* `expect_debt_flag`ï¼ˆYes / No / Unsure / PNSï¼‰
* `debt_band`ï¼ˆNone/<10k/10â€“20k/...ï¼‰
* `debt_band_mid`ï¼ˆåŒºé—´ä¸­ç‚¹ï¼‰
* `can_save_money`ï¼ˆLikert é‡ç¼–ç ï¼‰
* `concern_cost_of_living`ã€`concern_inflation`ã€`concern_student_debt`ï¼ˆå¯æ¥è‡ª Q11/12ï¼‰
* `hours_level`ï¼ˆlow/medium/high/very_highï¼Œå·²ç»æœ‰ï¼‰
* `hours_mid`ï¼ˆå·¥æ—¶ä¸­ç‚¹ï¼‰
* `worklife_balance_score`ï¼ˆ7 ç‚¹æ»¡æ„åº¦ï¼‰

**E. æ»¡æ„åº¦ & ä½“éªŒï¼ˆQ17â€“Q23, Q26, Q19ï¼‰**

* `overall_experience_sat`ï¼ˆQ17 æ€»ä½“éªŒï¼‰
* `decision_sat`ï¼ˆQ16 å†³ç­–æ»¡æ„åº¦ï¼‰
* `satisfaction_change`ï¼ˆQ18ï¼šImproved / Same / Worsenedï¼‰
* è‹¥å¹²å…³é”®ç»´åº¦çš„å•é¡¹æ»¡æ„åº¦ï¼šä¾‹å¦‚

  * `sat_worklife_balance`
  * `sat_supervisor_relationship`
  * `sat_funding`
  * `sat_career_guidance`
  * â€¦ï¼ˆæ¥è‡ª Q19ï¼‰

**F. æ”¯æŒä¸æŒ‡æ•°ï¼ˆQ24, Q30 ç­‰ï¼‰**

* `supervisor_support_index`ï¼ˆä½ åœ¨ support_quadrant é‡Œå·²ç»ç®—è¿‡ï¼‰
* `institution_support_index`
* `worklife_support_index`
* `support_supervisor_level` / `support_institution_level`ï¼ˆLow/Med/High åˆ†æ¡£ï¼‰

**G. å¿ƒç†å¥åº·ä¸æ±‚åŠ©ï¼ˆQ28â€“Q30ï¼‰**

* `mental_help_status`ï¼ˆQ28 å¤šç±»åˆ«ï¼‰
* `mental_help_channel`ï¼ˆQ29ï¼‰
* `mental_services_index`ï¼ˆQ30 ç»¼åˆï¼‰

**H. é£é™©äº‹ä»¶ï¼ˆQ31â€“Q35ï¼‰**

* `experienced_bullying`ï¼ˆ0/1ï¼‰
* `experienced_harassment`ï¼ˆ0/1ï¼‰
* `can_speak_about_bullying`ï¼ˆQ33ï¼‰
* è‹¥éœ€è¦å†åŠ å‡ ä¸ªâ€œç»†åˆ†ç±»å‹â€çš„ 0/1ï¼ˆå¯æ”¾åœ¨ long è¡¨é‡Œï¼‰

**I. èŒä¸šå‰æ™¯ï¼ˆQ36â€“Q42ï¼‰**

* `degree_improve_prospects`ï¼ˆQ36ï¼‰
* `permanent_job_time`ï¼ˆQ41ï¼‰
* `research_career_likelihood_change`ï¼ˆQ42ï¼‰
* æ˜¯å¦è®¡åˆ’ PhDï¼ˆå¯¹ç¡•å£«ï¼ŒQ17ï¼‰

**J. èŒä¸šæ„å‘æ’åºï¼ˆQ37ï¼‰**

* `rank_academia`, `rank_industry`, `rank_government`, `rank_nonprofit`, `rank_medical`
* ä»¥åŠä¸€äº›è¡ç”Ÿå˜é‡ï¼Œå¦‚ `academia_top_choice`ï¼ˆ1/0ï¼‰ã€`academia_bottom3`ï¼ˆ1/0ï¼‰

**K. äººå£å­¦ä¸èº«ä»½ï¼ˆQ51â€“Q54ï¼‰**

* `age_band`
* `gender`
* `race_minority`ï¼ˆyes/noï¼‰
* `caring_responsibilities`ï¼ˆæœ‰/æ—  + å­å¥³/æˆäººï¼‰

**L. é«˜å‹ç›¸å…³**

* `high_stress_group`ï¼ˆå·²æœ‰å®šä¹‰ï¼‰
* ä½ æ„¿æ„çš„è¯ï¼Œå¯ä»¥å†åŠ ä¸€äº›ï¼š

  * `high_hours_flag`ï¼ˆâ‰¥41hï¼‰
  * `low_wlb_flag`ï¼ˆWLB â‰¤3ï¼‰

å¤§æ–¹å‘å’ŒåŸè®¡åˆ’ä¸€æ ·ï¼Œåªæ˜¯ç°åœ¨æˆ‘ä»¬æ˜ç¡®çŸ¥é“æ¯å—å¯¹åº”çš„æ˜¯å“ªå‡ é“é—®å·é¢˜ï¼Œæ‰€ä»¥åé¢å†™ä»£ç æ—¶æ›´æ¸…æ™°ã€‚

---

## 2. é•¿è¡¨ï¼ˆlong tablesï¼‰â€”â€”å†åŠ  2 ç±»ï¼šå¤šé€‰é¢˜ & æ’åºé¢˜

åŸæ¥å»ºè®®çš„ concerns/satisfaction/support long è¡¨ä¿æŒä¸å˜ï¼Œä½†ç»“åˆé—®å·ï¼Œæˆ‘å»ºè®®å†åŠ ä¸¤ç±»ï¼š

1. **`multi_choice_long`**

   * ä¾‹å¦‚ï¼š

     * Q4ï¼šæŠ¥è€ƒåŸå› ï¼ˆå¤šé€‰ï¼Œæœ€å¤š 3 é¡¹ï¼‰
     * Q10ï¼šå‡ºå›½è¯»ä¹¦çš„åŸå› 
     * Q44, Q45, Q48, Q49 ç­‰å¤šé€‰é¢˜
   * ç»“æ„ï¼š`resp_id, question_id, option_id, option_label, selected(0/1)`

2. **`ranking_q37_long`**

   * ä¸“é—¨ç»™ Q37ï¼ˆ5 ä¸ª sector æ’åï¼‰ï¼š
   * ç»“æ„ï¼š`resp_id, sector_id, sector_label, rank`

å‰é¢è¯´çš„ concerns_long / satisfaction_long / support_long éƒ½ç»§ç»­æŒ‰åŸè®¡åˆ’åšï¼Œåªæ˜¯æˆ‘ä»¬å¯ä»¥åœ¨ `question_id` é‡Œæ˜ç¡®å¯¹åº”é—®å· Q å·ï¼ˆæ–¹ä¾¿ä»¥åæŸ¥ï¼‰ã€‚

---

## 3. è®¡åˆ’æ˜¯å¦éœ€è¦ä¿®æ”¹ï¼Ÿ

ä»é—®å· & ä½ ç°æœ‰æ¸…æ´—æˆæœæ¥çœ‹ï¼š

* ç»“æ„ä¸Šçš„è®¾è®¡ï¼ˆä¸»è¡¨ + è‹¥å¹²é•¿è¡¨ + å‰ç«¯åªè¯» 08_viz_dataï¼‰æ˜¯éå¸¸åŒ¹é…è¿™ä»½é—®å·çš„ï¼›
* éœ€è¦åšçš„åªæ˜¯ï¼šåœ¨â€œå­—æ®µæ¸…å•â€å’Œâ€œé•¿è¡¨ç±»å‹â€ä¸Šç¨å¾®æ‰©å±•ä¸€ä¸‹ï¼ˆç‰¹åˆ«æ˜¯å¤šé€‰é¢˜ã€æ’åºé¢˜ï¼‰ï¼Œä¸Šé¢å·²ç»æŠŠè¿™äº›æ‰©å±•éƒ½åˆ—å‡ºæ¥äº†ã€‚

æ‰€ä»¥æˆ‘è®¤ä¸ºï¼š

> âœ… ä¸éœ€è¦æ¨ç¿»æ•´ä½“æ–¹æ¡ˆï¼Œåªæ˜¯åœ¨åŸè®¡åˆ’åŸºç¡€ä¸Šåšâ€œåŠ å¼ºç‰ˆâ€å®ç°ã€‚

---

## 4. æ¥ä¸‹æ¥æ€ä¹ˆå¼€å§‹ç¬¬ä¸€æ­¥ï¼Ÿ

æ—¢ç„¶æˆ‘ä»¬å·²ç¡®è®¤æ–¹å‘ï¼Œ**ç¬¬ä¸€æ­¥å°±æŒ‰ä¹‹å‰è¯´çš„â€œæ­ä¸€ä¸ª master_person_wide çš„åˆç‰ˆâ€æ¥åš**ï¼š

* ç”¨ä½ å·²ç»æœ‰çš„ï¼š

  * `worklife_derived_vars.csv`
  * `region_worklife_derived.csv`
* å…ˆç”Ÿæˆä¸€å¼ åªæœ‰**æ ¸å¿ƒå­—æ®µ**çš„ä¸»è¡¨ï¼Œæ¯”å¦‚ï¼š

  * `resp_id`ï¼ˆæˆ–éšå« idï¼‰
  * `degree_label`
  * `region_continent`
  * `hours_level`
  * `high_stress_group`
  * `debt_band`ï¼ˆå¦‚æœåœ¨ worklife_derived é‡Œå·²ç»æœ‰ï¼‰
* è¾“å‡ºï¼š`/workspace/output/99_master/master_person_wide.csv`

ç­‰è¿™å¼ åˆç‰ˆè¡¨è·‘é€šï¼Œæˆ‘ä»¬å†ä¸€å—ä¸€å—å¾€é‡ŒåŠ ï¼šäººå£å­¦ã€æ»¡æ„åº¦ã€æ”¯æŒæŒ‡æ•°ç­‰ã€‚

å¦‚æœä½ åŒæ„è¿™ä¸ªèŠ‚å¥ï¼Œæˆ‘ä¸‹ä¸€æ¡å°±ç›´æ¥ç»™ä½  **â€œåªç”Ÿæˆä¸»è¡¨åˆç‰ˆçš„å°è„šæœ¬â€**ï¼Œä½ è¿è¡ŒåæŠŠè¾“å‡ºç»“æ„æˆªå›¾/ç¤ºä¾‹è´´ç»™æˆ‘ï¼Œæˆ‘ä»¬å†é€æ­¥æ‰©å±•ã€‚
