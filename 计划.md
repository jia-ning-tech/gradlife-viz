我先把我们**已经有的东西**和**还没覆盖的方向**理一理，然后给你一个可以一步步往下走的“施工 blueprint”。

---

## 0. 我们现在有什么？

围绕「高工时 + 差 work–life balance ⇒ 高压组」，目前已经有的主线和页面大概是：

1. **整体 & 学位线**

   * 高压 vs 非高压 × 学位（Doctorate / Master’s / Dual）
   * 带学位过滤器的支持/满意度页面

2. **经济压力线**

   * 债务预期（Q17）× 高压：嵌套环形图 + 堆叠/分组柱状图

3. **主观体验线**

   * 决策满意度（Q23）、整体经历满意度（Q25）× 高压：嵌套环、堆叠柱

4. **导师关系 & 学校支持线**

   * 导师关系（v079、v091）× 高压
   * 学校/心理健康支持、work–life 支持（v097、v100、v101）× 高压
   * 按学位细分版

5. **风险事件 & 帮助线**

   * Bullying / Harassment × 高压（CSV 已有，对应页面也在）
   * Mental-health help / services × 高压（同上）

6. **地理线**

   * Region（6 大洲）× 高压：柱状图
   * Country × 高压：玫瑰图 + 世界地图视图（含样本量滑块）

结构上，其实已经有一条挺清晰的 story：

> “不同人群（学位、地区、国家），在经济压力、满意度、导师/学校支持、风险事件这些维度上的差异，会怎样对应到高压比例。”

接下来就可以在这个 story 上 **补完空白 + 打磨交互**，最后再做统一抽象（utils.js）。

---

## 1. 接下来整体规划（先补完，再重构）

我建议下面这个顺序（每一点都可以拆成你喜欢的“一小步一小步”）

### A. 打磨 &补完现有专题线

**A1. “风险事件 / 帮助”线统一风格**

目标：让 *Bullying & Harassment × 高压* 和 *Mental-health help × 高压* 这两页的体验，和 debt / satisfaction / support 那几页一样顺滑。

具体可以做的点（每一步都可以单独开一轮）：

1. 给两页都补上：

   * 顶部 “研究问题 + 数据来源 + 高压定义” 描述（和其他页同样风格）。
   * 清晰的副标题：比如

     > “Bullying experience (Q36) × high-stress group”
     > “Discrimination / Harassment (Q39) × high-stress group”
2. 图形结构统一成：

   * 上：嵌套环形 / 玫瑰图，展示总体 & 各回答的高压占比
   * 下：堆叠 / 分组条图，展示高压 vs 非高压，同时支持 **数值 / 百分比** 切换（复用你现在满意度 / 支持线上的交互模式）。
3. 小交互：

   * 简单 degree filter（博士 / 硕士 / 全部）
   * tooltip 里同时显示：n、高压比例、非高压比例。

> 完成 A1 后，“负面事件 & 支持寻求”这块就能和前面的“满意度 / 支持线”形成一个完整章节。

---

**A2. “导师关系 & 学校支持”线加一张「四象限图」**

我们现在是**一个维度一页**（v079 / v091 / v097 / v100 / v101 各自 × 高压）。可以再做一张“总览”页，把**导师支持**和**学校支持**放进一张图里，让读者一眼看到：

> 「导师强 / 校方强」vs「导师弱 / 校方弱」四个象限里，高压比例差多少？

简单构想：

1. 在 Python 里做一个小表：

   * x 轴：学校支持综合得分（比如 v097 + v100 + v101 的标准化平均）
   * y 轴：导师支持综合得分（v079 + v091 的标准化平均）
   * 再按 quantile 把每个维度切成“低 / 中 / 高”三档。

2. 前端：

   * 先从 3×3 开始，做一个 3×3 方格 / 热力图，每个格子显示：

     * 高压比例（颜色）
     * n（标签）
   * 左上角 = “导师低 / 校方低”，右下角 = “导师高 / 校方高”。

3. 交互：

   * degree filter（博士 / 硕士 / 全部）
   * Y 轴可以切换“比例 / 人数”。

这张图会是“故事层面”非常强的一页，适合最后报告里重点展示。

---

**A3. 满意度线再补一个“变化趋势”问题（Q26）**

你前面脚本已经找到了 Q26：

> “Since the very start of your graduate school experience, would you say your level of satisfaction has: …（提高 / 降低 / 保持不变）”

这一题和 Q23/Q25 的静态满意度是互补的，适合做一张“满意度变化 × 高压”的页面：

1. Python：

   * 把 Q26 的回答整理为 3 档（↑、→、↓），和 high_stress_group 交叉。
2. 前端：

   * 一张简洁的堆叠条图（按变化方向，展示高压 vs 非高压）。
   * 上方附一个小结：

     * “满意度下降组的高压比例 vs 保持 / 提高组”。

这是一页成本不高、信息量挺强的小图页。

---

### B. 挖一点新的维度：**个人背景 & 工作负荷**

这部分可以边做边挑有意思的变量，不必一次做完。

**B1. “工作负荷”解释页**

虽然高压定义里已经用到了“每周工时 > 41h + WLB 评分低”，但我们还没单独展示“工时分布 × 高压”。

可以做一页：

* 上：箱线图 / violin 图：high-stress vs non-high-stress 的 weekly hours 分布
* 下：按工时档（≤40、41–50、51–60、>60）× 高压比例的条图。

这个页的作用是：**解释高压定义**，给读者直觉。

**B2. “学科 / 研究领域 × 高压”**

在 metadata 里搜索一下 discipline/field 相关变量（例如包含 “field”、“subject”、“discipline” 的列），然后：

* 先看下大类分布是否均衡（比如 STEM / Social Science / Humanities 等）。
* 如果样本量 ok，可以做一页：

  * x 轴：大类学科
  * y 轴：高压比例
  * 再配一个 degree filter（博士/硕士）。

**B3. “性别 × 高压”（如果有可靠的变量）**

同样查 metadata 找 gender / sex 相关。
如果问卷设计里有多选、较细的选项，可以先按数据质量决定是否只做 “男 / 女 / 其他 / 不透露” 这种大类。

---

### C. 做 1–2 页“总览 / 故事”页面

等 A + B 做得差不多了，再来一两页“story-board”，类似 dashboard 总结：

**C1. Risk ladder（风险阶梯）页面**

* 把前面几个关键因子汇总到一页里：

  * 债务预期（Yes/Unsure/No）
  * 决策低满意 vs 高满意
  * 导师低支持 vs 高支持
  * 学校低支持 vs 高支持
  * 经历 bullying / harassment vs 未经历
  * Region / Country（可以选荐几个代表性的地区）

* 用一条“阶梯图 / 排名图”：

  * 每个条目显示“该组高压比例 – 总体高压比例”的差值（risk uplift）。

这页可以作为整体分析的“take-home message”。

**C2. 简易「Profile Explorer」（如果还有精力）**

* 左侧是几个下拉框（学位、地区、债务预期、导师支持高/低…），
* 右侧显示根据这些条件筛选后的高压比例（及样本量）。

技术上就是叠加几个 filter + 一块 summary card。

---

## 2. 实际执行顺序（推荐）

为了符合你“一步一步做”的节奏，我建议 **接下来就按这个顺序往下走**：

1. **先做 A1：统一 Bullying / Harassment / Mental-help 页面的结构和交互。**

   * 这和我们前面已经做过的 debt / satisfaction / support 页最类似，上手成本最低。

2. 然后 **做 A2 的“导师支持 vs 学校支持四象限页”**。

   * 这是一个信息量很高、也很有新意的页面，做完会让整条“支持线”更完整。

3. 接着 **做 A3 的“满意度变化 × 高压”页**。

   * Python 脚本 + 一个简单前端页面。

4. 再进入 **B1（工时解释页）→ B2（学科）→ B3（性别）**，每一步都可以随时停下来，只做最有意思 / 数据质量最好的那几个。

5. 最后，等你觉得“该看的维度差不多了”，再来做 **C1 Risk ladder 和 C2 Profile Explorer**，作为总结。

6. **所有东西都稳定之后**，我们再回头做你说的那张“小表”，然后开始 `utils.js` 的抽象和重构：

   * 样本滑块控件
   * CSV 加载 & 过滤
   * 标准化的 tooltip 和 label 格式
   * 通用的堆叠条 / 玫瑰图 / 地图 builder。

---

如果你同意这个总方案，**我建议从 A1 的第一小步开始**：

> 先选 *Bullying × 高压* 这页，给我看一下现在的 CSV（路径和列名），我就直接帮你设计那一页的完整图形和交互，然后我们再照着同一套路去做 Harassment 和 Mental-help。
